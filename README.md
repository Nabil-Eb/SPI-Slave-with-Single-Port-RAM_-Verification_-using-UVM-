# SPI Slave with Single Port RAM Verification using UVM

<img width="1152" height="896" alt="UVM Structure" src="https://github.com/user-attachments/assets/2576bd8d-ea7a-40e9-abee-1f9f82a2aba4" />

<h2>Detailed Description of UVM Testbench Operation</h2>
<p>The verification environment for the Wrapper system is developed using the Universal Verification 
Methodology (UVM) to ensure modularity, reusability, and coverage-driven verification.</p>
<p>The complete UVM testbench architecture is illustrated in the Wrapper_top block diagram and consists of 
three primary environments:</p>
Wrapper_env, spi_env, and RAM_env, each dedicated to monitoring and verifying a specific part of the 
Design Under Test (DUT). 

<h2>Overview</h2> 
<p>At the top level, the testbench (Wrapper_test) instantiates the three environments and coordinates the 
overall stimulus generation through the Wrapper_sequence. 
The DUT (Wrapper) communicates with two submodules, SLAVE and RAM, via their respective 
interfaces.</p>
<p>For functional verification, corresponding Golden Models (Golden_wrapper, Golden_SLAVE, and 
Golden_RAM) are instantiated to serve as reference models for result comparison.</p>
All UVM components are interconnected using virtual interfaces, enabling seamless transaction-level 
communication between the UVM class-based environment and the DUT’s signal-level interfaces. 

<h2>Wrapper Environment (Active Agent)</h2>
<p>The Wrapper_env is the main verification environment and serves as the active component of the 
testbench.</p>
<p>It comprises the following elements:</p>
<ul><li>Wrapper_agent (Active) – Generates and drives stimulus to the DUT.</li>
<li>Wrapper_driver – Converts high-level sequence items into signal-level transactions via the 
Wrapper_interface.</li>
<li>Wrapper_monitor – Observes DUT responses, reconstructs transactions, and forwards them to 
analysis components.</li>
<li>Wrapper_scoreboard – Compares DUT outputs with the Golden_wrapper reference model.</li>
<li>Wrapper_coverage – Collects functional coverage to evaluate verification progress.</li> </ul>
<p>The Wrapper_agent operates in active mode, meaning it both drives stimulus (through the driver) and 
monitors responses.</p>
<p>The Wrapper_sequencer coordinates between the test sequences and the driver, ensuring proper flow of 
transaction data.</p>

<h2>SPI and RAM Environments (Passive Agents)</h2>
<p>The spi_env and RAM_env are configured as passive environments, meaning they do not generate 
stimulus but only observe and analyze activity on their respective interfaces. 
SPI ENVIRONMENT </p>
<ui><li>  spi_agent (Passive)</li> 
<li>  spi_monitor</li>
<li>  spi_scoreboard</li>
<li>  spi_coverage</li></ui>
<p>The spi_monitor samples the SPI interface signals, converts them into SPI transaction objects, and forwards 
these objects to the scoreboard and coverage collectors. 
RAM ENVIRONMENT</p>
<ui><li>  RAM_agent (Passive)</li>
<li>  RAM_monitor</li>
<li>  M_scoreboard</li>
<li>  RAM_coverage</li></ui>
<p>The RAM_monitor captures all memory interface transactions and forwards them to the RAM_scoreboard 
for checking against the Golden_RAM model.</p>
<p>Both passive environments validate the correctness of data exchanged between the Wrapper and its 
connected modules while collecting coverage metrics to ensure that all protocol features are exercised.</p>

<h2>Sequences and Transaction Flow</h2>
Test stimulus is generated by the Wrapper_sequence, which controls different operational scenarios: 
<ui><li>  Read_sequence </li>
<li>  Write_sequence</li>
<li>  Read_Write_sequence</li></ui>
<p>Each sequence creates Wrapper_seq_item objects representing read or write operations, including 
parameters such as address, data, and operation type.</p>
<p>These sequence items are passed to the Wrapper_sequencer, which forwards them to the 
Wrapper_driver.</p>
<p>The driver translates these transactions into signal-level activities on the DUT interface. 
Meanwhile, the Wrapper_monitor, spi_monitor, and RAM_monitor continuously observe the DUT 
behavior and capture corresponding responses.</p>

<h2>Scoreboards and Golden Models</h2>
Each environment incorporates a scoreboard that performs transaction-level comparisons between the DUT 
outputs and the expected results generated by the Golden Models. 
<ui><li>  The Golden Models (Golden_wrapper, Golden_SLAVE, and Golden_RAM) act as behavioral 
reference models that represent the expected functionality of each DUT component.</li>
<li>  en a transaction is driven to the DUT, the same input is also applied to the corresponding golden 
model.</li>
<li>  The scoreboard compares the DUT’s actual response with the golden model’s predicted response.</li>
<li>  Any mismatch is reported as a UVM_ERROR, ensuring accurate functional validation. 
This mechanism guarantees that the Wrapper and its submodules operate correctly under all tested 
conditions.</li></ui>

<h2>Coverage and Assertions</h2>
To ensure complete verification: 
<ui><li>  Functional Coverage components within each environment track:</li></ui>
<ui><li>  Transaction types</li>
<li>  Address ranges</li>
<li>  Data patterns</li>
<li>  Operation combinations</li> </ui>
<ui><li>  SystemVerilog Assertions (SVA) are embedded throughout the environment to verify:</li></ui> 
<ui><li>  Protocol compliance </li>
<li>  Reset behavior </li>
<li>  Signal stability</li>
<li>  Timing correctness</li></ui>
<p>Examples include checking that all outputs remain inactive during reset and validating that handshake 
signals (tx_valid, rx_valid) transition correctly.</p>
<p>The integration of functional coverage and assertions provides both quantitative and qualitative 
confidence in the correctness of the DUT.</p>

<h2>Test Execution Flow</h2>
<ol><li>
<p> Build Phase:</p>
All UVM components (environments, agents, monitors, scoreboards) are constructed and connected. 
Virtual interfaces are configured.</li>
<li><p>Connect Phase:</p> 
Analysis ports are connected between monitors, scoreboards, and coverage components.</li>
<li> Run Phase:</li>
<ui><li>  The Wrapper_sequence is started on the Wrapper_sequencer.</li>
<li>  Drivers translate sequence items into DUT-level signal activity.</li> 
<li>  Monitors capture DUT responses and send transactions to scoreboards and coverage 
modules.</li>
<li>  Scoreboards perform comparisons between DUT outputs and golden model predictions.</li></ui> 
<li>  Check and Report Phases:</li></ol>
<ui><li>  Scoreboards summarize any mismatches detected during simulation.</li>
<li>  Coverage reports are generated to assess verification completeness.</li> 
<li>  Assertion results are reviewed to validate protocol compliance.</li></ui>

<h2>Summary</h2> 
<p>The developed UVM testbench provides a modular, scalable, and coverage-driven verification 
framework for validating the Wrapper system.</p>
<p>By integrating active and passive agents, golden reference models, functional coverage, and assertions, 
the testbench ensures comprehensive verification of:</p>
<ui><li>  Data correctness </li>
<li>  Protocol adherence</li>
<li>  Timing integrity</li>
<li>  Functional coverage closure</li></ui>
This structured approach guarantees a high level of verification confidence and maintains compliance with 
UVM best practices.
